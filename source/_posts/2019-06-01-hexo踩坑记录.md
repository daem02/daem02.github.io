---
title: Hexo采坑记录
tags:
  - Hexo
  - Error
date: 2019-06-01 22:36:39
categories:
- Hexo
---


> 在用hexo搭建个人博客的的时候遇到了各种问题，想着比人也可能遇到，于是记录于此，以后若遇到新的关于hexo的问题，也将持续更新到本文。

<!--more-->

## 1. hexo目录结构
先了解hexo的目录结构，以及各个目录、文件作用是什么，遇到某些问题，自己也能尝试搞定，同时查到解决方法后也能很容易理解为何这样做。下面是我的hexo目录结构，有些文件夹没有展开，我在后面加上`/`。

+ `themes`是主题文件夹，就是界面展示的布局风格，我选择的`next`。
+ `source`最重要的文件夹，存放博客的源文件。
+ `public`和`.deploy_git`存放的内容都是生成的静态文件，区别我认为`.deploy_git`是已经发布到博客了的，即是`hexo d`产生的。而public是刚刚生成的，即`hexo g`产生的。
+ `scaffolds`是存放模板的文件夹，即`hexo new [layout] <filename>`中的`layout`选择项，默认`post.md`发布模板，`draft.md`草稿模板，`page.md`页面模板(不清楚)。`node_modules`是根据`package.json`和`package-lock.json`下载的`node`包，`_config.yml`是博客的配置文件。
+ `db.json`对文件资源进行记录。
+ `yarn.lock`是`yarn`命令安装模块时使用的。
+ `dubug.json`记录本地`hexo server`产生的日志。

重要的文件有三个：

1. `source`文件夹
2. 根目录下的`_config.yml`
3. `themes`文件下主题文件中的`_config.yml`文件

复制这三个，就可以随意迁移博客了。

## 2. `themes`文件夹下的`next`内容不会被`push`到`github`
估计因为`next`主题本身也是`github`项目，我在将其中的`.git`和`.gitignore`删除后，再`git rm -r --cached next`，取消对`next`之前的追踪记录。
后就可以了，重要的应该是`git`命令。`.git`删除后，现在我无法更新`next`了……

## 3. `_config.yml`中`develop`设置发布到`master`分支
这是完全覆盖式的，将导致`master`分支之前的内容被抹掉。因此在设置哪个分支作为发布的分支要小心。

## 4. `menu`的图标无法显示
`menu`的图标用的是`font-awesome`的，本来当运行`hexo g`的时候会在`/lib`文件下生成`font-awesome`文件夹，里面有所用的所有图标，但我的没有生成这个文件夹。
解决方法：自己去`font-awesome`网站下载，然后放到`lib`目录下。


